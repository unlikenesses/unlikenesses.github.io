<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.12.1"/><meta name="description" content="A PHP Developer" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta name="twitter:title" content="Lessons from Laracasts, Part 1" data-gatsby-head="true"/><meta name="twitter:url" content="https://www.unlikenesses.com" data-gatsby-head="true"/><meta name="twitter:description" content="A PHP Developer" data-gatsby-head="true"/><meta name="twitter:creator" content="@unlikenesses" data-gatsby-head="true"/><style data-href="/styles.9e141428d1b6d863e943.css" data-identity="gatsby-global-css">/*
! tailwindcss v3.3.3 | MIT License | https://tailwindcss.com
*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4}body{line-height:inherit;margin:0}h1{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}small{font-size:80%}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h1,p{margin:0}img,svg{display:block;vertical-align:middle}img{height:auto;max-width:100%}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}@media (min-width:1536px){.container{max-width:1536px}}.mx-auto{margin-left:auto;margin-right:auto}.my-4{margin-bottom:1rem}.mt-4,.my-4{margin-top:1rem}.flex{display:flex}.h-8{height:2rem}.w-1\/2{width:50%}.w-8{width:2rem}.w-full{width:100%}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-start{justify-content:flex-start}.justify-between{justify-content:space-between}.space-x-5>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1.25rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1.25rem*var(--tw-space-x-reverse))}.rounded{border-radius:.25rem}.bg-gray-300{--tw-bg-opacity:1;background-color:rgb(209 213 219/var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.fill-current{fill:currentColor}.p-6{padding:1.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-4{padding-bottom:1rem;padding-top:1rem}.py-6{padding-bottom:1.5rem;padding-top:1.5rem}.py-9{padding-bottom:2.25rem;padding-top:2.25rem}.pb-3{padding-bottom:.75rem}.pb-5{padding-bottom:1.25rem}.pb-6{padding-bottom:1.5rem}.pb-8{padding-bottom:2rem}.pl-3{padding-left:.75rem}.pt-0{padding-top:0}.pt-6{padding-top:1.5rem}.text-left{text-align:left}.text-2xl{font-size:1.5rem;line-height:2rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-9xl\/loose{font-size:8rem;line-height:2}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.uppercase{text-transform:uppercase}.capitalize{text-transform:capitalize}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81/var(--tw-text-opacity))}.text-pink-600{--tw-text-opacity:1;color:rgb(219 39 119/var(--tw-text-opacity))}.no-underline{text-decoration-line:none}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.hover\:bg-gray-400:hover{--tw-bg-opacity:1;background-color:rgb(156 163 175/var(--tw-bg-opacity))}.hover\:text-gray-600:hover{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity))}.hover\:text-pink-600:hover{--tw-text-opacity:1;color:rgb(219 39 119/var(--tw-text-opacity))}.hover\:underline:hover{text-decoration-line:underline}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:768px){.md\:w-2\/3{width:66.666667%}.md\:pt-2{padding-top:.5rem}.md\:text-5xl{font-size:3rem;line-height:1}.md\:text-base{font-size:1rem;line-height:1.5rem}.md\:text-xl{font-size:1.25rem;line-height:1.75rem}}.nunito{font-family:Nunito,sans-serif}p{line-height:2}h2,p{margin-bottom:1.5rem}h2{font-size:1.5rem;font-weight:700;line-height:2rem;margin-top:.5rem}h3{font-size:1.25rem;margin-bottom:1.25rem;margin-top:1rem}h3,h4{font-weight:700;line-height:1.75rem}h4{font-size:1.125rem}code{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(252 231 243/var(--tw-bg-opacity));border-radius:.375rem;color:rgb(236 72 153/var(--tw-text-opacity));padding:.25rem .5rem}pre code{padding-left:0;padding-right:0}a{--tw-text-opacity:1;color:rgb(236 72 153/var(--tw-text-opacity));text-decoration-line:underline}blockquote{--tw-border-opacity:1;--tw-text-opacity:1;border-color:rgb(236 72 153/var(--tw-border-opacity));border-left-width:4px;color:rgb(55 65 81/var(--tw-text-opacity));margin-bottom:.75rem;padding-left:1rem}ul{list-style-type:disc;margin-bottom:.5rem}ol,ul{list-style-position:inside}ol{list-style-type:decimal}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><link href="https://fonts.googleapis.com/css?family=Nunito:400,700" rel="stylesheet"/><title data-gatsby-head="true">Lessons from Laracasts, Part 1</title><link rel="icon" href="data:image/svg+xml,&lt;svg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 100 100&#x27;&gt;&lt;text y=&#x27;0.9em&#x27; font-size=&#x27;90&#x27;&gt;âŠ›&lt;/text&gt;&lt;/svg&gt;" data-gatsby-head="true"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="nunito"><div class="container w-full md:w-2/3 mx-auto flex flex-wrap py-9"><header class="pl-3 pb-6"><a class="font-bold text-gray-600 uppercase hover:text-gray-600 text-xl md:text-5xl no-underline" href="/">Unlikenesses <span class="text-xs md:text-xl">A Backend Developer</span></a><nav class="flex space-x-5 mt-4"><a class="no-underline text-gray-400 hover:text-pink-600" href="https://twitter.com/unlikenesses" target="_blank" rel="noopener noreferrer"><svg role="img" class="w-8 h-8 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Twitter</title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg></a><a class="no-underline text-gray-400 hover:text-pink-600" href="https://github.com/unlikenesses" target="_blank" rel="noopener noreferrer"><svg role="img" class="w-8 h-8 fill-current" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="no-underline text-gray-400 hover:text-pink-600" href="https://mastodon.social/@unlikenesses" target="_blank" rel="noopener noreferrer"><svg role="img" class="w-8 h-8 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><title>Mastodon</title><path d="M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"></path></svg></a><a class="no-underline text-gray-400 hover:text-pink-600" href="https://codepen.io/unlikenesses/" target="_blank" rel="noopener noreferrer"><svg role="img" class="w-8 h-8 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>CodePen</title><path d="M18.144 13.067v-2.134L16.55 12zm1.276 1.194a.628.628 0 01-.006.083l-.005.028-.011.053-.01.031c-.005.016-.01.031-.017.047l-.014.03a.78.78 0 01-.021.043l-.019.03a.57.57 0 01-.08.1l-.026.025a.602.602 0 01-.036.03l-.029.022-.01.008-6.782 4.522a.637.637 0 01-.708 0L4.864 14.79l-.01-.008a.599.599 0 01-.065-.052l-.026-.025-.032-.034-.021-.028a.588.588 0 01-.067-.11l-.014-.031a.644.644 0 01-.017-.047l-.01-.03c-.004-.018-.008-.036-.01-.054l-.006-.028a.628.628 0 01-.006-.083V9.739c0-.028.002-.055.006-.083l.005-.027.011-.054.01-.03a.574.574 0 01.12-.217l.031-.034.026-.025a.62.62 0 01.065-.052l.01-.008 6.782-4.521a.638.638 0 01.708 0l6.782 4.521.01.008.03.022.035.03c.01.008.017.016.026.025a.545.545 0 01.08.1l.019.03a.633.633 0 01.021.043l.014.03c.007.016.012.032.017.047l.01.031c.004.018.008.036.01.054l.006.027a.619.619 0 01.006.083zM12 0C5.373 0 0 5.372 0 12 0 18.627 5.373 24 12 24c6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12m0 10.492L9.745 12 12 13.51 14.255 12zm.638 4.124v2.975l4.996-3.33-2.232-1.493zm-6.272-.356l4.996 3.33v-2.974l-2.764-1.849zm11.268-4.52l-4.996-3.33v2.974l2.764 1.85zm-6.272-.356V6.41L6.366 9.74l2.232 1.493zm-5.506 1.549v2.134L7.45 12Z"></path></svg></a></nav></header><section class="w-full flex flex-col items-center px-3"><article class="w-full flex flex-col my-4"><div class="bg-white flex flex-col justify-start py-6"><h1 class="text-4xl font-bold text-gray-700 capitalize">Lessons from Laracasts, Part 1</h1><span class="text-sm pb-8 text-gray-600">24 March 2018</span><div class="text-gray-700 text-lg"><p><a href="https://laracasts.com/series/lets-build-a-forum-with-laravel">Let's Build a Forum with Laravel and TDD</a> is a mega-tutorial (102 lessons) by Jeffrey Way on his <a href="https://laracasts.com">Laracasts</a> site. It's a massive, time-intensive beast that contains lots of useful info, and not least gives the opportunity to watch someone build a fairly complex website from scratch. But its size means that a lot of little tricks and tips are hidden away inside the videos. While each lesson's title reflects a particular feature Jeffrey Way wants to build, I found that there are also particular technical nuggets of info to be found among the broader strategies. So this is a list of any little snippets that cropped up in the course, just minor points I didn't know or found useful. This post contains 50 tips, covering lessons 1-42. <a href="http://unlikenesses.com/2018-04-27-laracasts-lessons-part-2/">See Part 2 here!</a></p>
<h4><a name="1"></a> 1.</h4>
<p>When making a model in artisan, and <code>-mr</code> to make the migration (<code>m</code>), and a resourceful controller (<code>r</code>). Or use <code>c</code> for a plain controller. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/1">Source</a>]</p>
<h4><a name="2"></a> 2.</h4>
<p>For testing we can use an SQLite database in memory. In <code>phpunit.xml</code> set <code>DB_CONNECTION</code> to <code>sqlite</code> and <code>DB_DATABASE</code> to <code>:memory:</code>. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/2">Source</a>]</p>
<h4><a name="3"></a> 3.</h4>
<p><code>latest()</code> is an <a href="https://github.com/illuminate/database/blob/master/Query/Builder.php#L1487">Eloquent relation</a> that is basically an alias for <code>orderBy('created_at', 'desc')</code>. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/2">Source</a>]</p>
<h4><a name="4"></a> 4.</h4>
<p>Put code common to all tests in a test file in a <code>setUp</code> method that calls <code>parent::setUp();</code>. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/3">Source</a>]</p>
<h4><a name="5"></a> 5.</h4>
<p>Call <code>diffForHumans()</code> on Carbon instances (like <code>created_at</code> fields in Eloquent models) to output something like "2 days ago". [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/3">Source</a>]</p>
<h4><a name="6"></a> 6.</h4>
<p>Add the <code>--filter</code> flag to <code>phpunit</code> to run only one test. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/4">Source</a>]</p>
<h4><a name="7"></a> 7.</h4>
<p>Instead of specifying mass-assignable fields in a model with <code>fillable</code>, you can set the <code>$guarded</code> variable to block specific fields, or set it to an empty array to make every field assignable. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/4">Source</a>]</p>
<h4><a name="8"></a> 8.</h4>
<p><code>back()</code> is a <a href="https://laravel.com/docs/5.6/responses#redirects">helper function</a> to return the user to the previous location. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/4">Source</a>]</p>
<h4><a name="9"></a> 9.</h4>
<p>Note the distinction between <code>create</code> and <code>make</code> model factory methods: <code>create</code> persists the model to the database, while <code>make</code> only stores it in memory. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/4">Source</a>]</p>
<h4><a name="10"></a> 10.</h4>
<p>The <code>raw</code> model factory method returns an array of the model data, rather than the Eloquent model. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/6">Source</a>]</p>
<h4><a name="11"></a> 11.</h4>
<p>Add <code>only()</code> to restrict middleware to particular methods in a controller. E.g. in the constructor:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$this</span><span class="token operator">-></span><span class="token function">middleware</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'auth'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">only</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'store'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>[<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/6">Source</a>]</p>
<p>Or use <code>except()</code> for the opposite. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/8">Source</a>]</p>
<h4><a name="12"></a> 12.</h4>
<p>Use the <a href="https://laravel.com/docs/5.6/validation#rule-exists"><code>exists</code> validation rule</a> to check whether a given field exists in a specified database table. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/10">Source</a>]</p>
<h4><a name="13"></a> 13.</h4>
<p>You can use <code>whereSlug</code> and <code>whereId</code> as aliases for <code>where('slug', $slug)</code> and <code>where('id', $id)</code> in Eloquent calls. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/11">Source</a>]</p>
<h4><a name="14"></a> 14.</h4>
<p>To change the key used in route-model binding, override the <code>getRouteKeyName</code> method in your model. E.g.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getRouteKeyName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string single-quoted-string">'slug'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>[<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/11">Source</a>]</p>
<h4><a name="15"></a> 15.</h4>
<p>If you need some data to be passed to all your views, you don't need to use a view composer, you can use the much simpler <a href="https://laravel.com/docs/5.6/views#sharing-data-with-all-views"><code>share</code></a> method. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/13">Source</a>]</p>
<h4><a name="16"></a> 16.</h4>
<p>JW says that he uses "query objects" - classes that correspond to a complex SQL query - in the Laracasts codebase. E.g. <code>App/Queries/ThreadsQuery</code>. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/15">Source</a>]</p>
<h4><a name="17"></a> 17.</h4>
<p>You can <a href="https://laravel.com/docs/5.6/requests#retrieving-input">retrieve only a portion of the request data</a> using <code>$request->only(['foo', 'bar'])</code>. It saves requesting everything then filtering through it. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/15">Source</a>]</p>
<h4><a name="18"></a> 18.</h4>
<p>Performing <code>count()</code> on a relationship given as a <a href="https://laravel.com/docs/5.6/eloquent-relationships#defining-relationships">dynamic property</a> (e.g. <code>$thread->replies->count()</code>) requires a redundant SQL query that will fetch all the replies. If we substitute the method for the property (e.g. <code>$thread->replies()->count()</code>) the SQL query only gets the count of the replies. As the <a href="https://laravel.com/docs/5.6/eloquent-relationships#querying-relations">docs say</a>: "all types of Eloquent relationships also serve as query builders, allowing you to continue to chain constraints onto the relationship query before finally executing the SQL against your database". [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/16">Source</a>]</p>
<h4><a name="19"></a> 19.</h4>
<p>The Eloquent <code>load</code> method permits <a href="https://laravel.com/docs/5.6/eloquent-relationships#lazy-eager-loading">"lazy eager loading"</a>, i.e. eager loading a relationship after the model has been retrieved. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/16">Source</a>]</p>
<h4><a name="20"></a> 20.</h4>
<p>The Eloquent <a href="https://laravel.com/docs/5.6/eloquent-relationships#counting-related-models"><code>withCount</code> method</a> is a way of counting the results of a relationship without loading them. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/16">Source</a>]</p>
<h4><a name="21"></a> 21.</h4>
<p>Eloquent <a href="https://laravel.com/docs/5.6/eloquent#global-scopes"><code>global query scopes</code></a> define constraints applicable to all queries on that model. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/16">Source</a>]</p>
<h4><a name="22"></a> 22.</h4>
<p>Laravel's <a href="https://laravel.com/docs/5.6/helpers#method-str-plural"><code>str_plural</code> helper</a> returns the appropriate plural form of a string. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/16">Source</a>]</p>
<h4><a name="23"></a> 23.</h4>
<p>The <a href="https://github.com/illuminate/database/blob/16980ffecb15e47d0a1942a64d3cc548e22f709c/Query/Builder.php#L1698-L1706"><code>toSql</code> method</a> returns the SQL query of a given Eloquent query. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/17">Source</a>]</p>
<h4><a name="24"></a> 24.</h4>
<p>The whole section on <a href="https://laravel.com/docs/5.6/eloquent-relationships#polymorphic-relations">polymorphic relations</a> was new to me. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/18">Source</a>]</p>
<h4><a name="25"></a> 25.</h4>
<p>In database migrations, create a unique combined index with <a href="https://laravel.com/docs/5.6/migrations#indexes"><code>unique</code></a>; e.g. <code>$table->unique(['user_id', 'favorited_id', 'favorited_type']);</code>. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/18">Source</a>]</p>
<h4><a name="26"></a> 26.</h4>
<p>JW: "One of the downsides" of Eloquent is its tendency to hide the presence of multiple SQL queries when accessing relationships between models. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/19">Source</a>]</p>
<h4><a name="27"></a> 27.</h4>
<p>Global eager loading in an Eloquent model is possible by overriding the <code>$with</code> property. E.g.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token keyword">protected</span> <span class="token variable">$with</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'owner'</span><span class="token punctuation">]</span></code></pre></div>
<p>[<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/21">Source</a>]</p>
<h4><a name="28"></a> 28.</h4>
<p>You can use <a href="https://laravel.com/docs/5.6/eloquent#events">model events</a> to (among other things) delete related models when a model is deleted. E.g. in the <code>boot</code> method of a model:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token keyword static-context">static</span><span class="token operator">::</span><span class="token function">deleting</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$thread</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$thread</span><span class="token operator">-></span><span class="token function">replies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>[<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/23">Source</a>]</p>
<h4><a name="29"></a> 29.</h4>
<p>The <a href="https://laravel.com/docs/5.6/helpers#method-method-field">method_field helper</a> spoofs HTTP verbs in forms. E.g.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token function">method_field</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'DELETE'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></div>
<p>[<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/23">Source</a>]</p>
<h4><a name="30"></a> 30.</h4>
<p>Use <a href="https://laravel.com/docs/5.6/blade#loops"><code>@forelse</code> and <code>@empty</code></a> to show messages when a collection of data to be looped through is empty. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/24">Source</a>]</p>
<h4><a name="31"></a> 31.</h4>
<p>The artisan <a href="https://laravel.com/docs/5.6/authorization#creating-policies"><code>make:policy</code> command</a> generates an empty policy class. The flag <code>--model=Foo</code> adds some boilerplate. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/24">Source</a>]</p>
<h4><a name="32"></a> 32.</h4>
<p>The <a href="https://laravel.com/docs/5.6/authorization#via-blade-templates"><code>@can</code> and <code>@cannot</code> Blade directives</a> check whether the logged in user can perform a given action. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/24">Source</a>]</p>
<h4><a name="33"></a> 33.</h4>
<p>To give a super admin permission to perform all actions, either use the <a href="https://laravel.com/docs/5.6/authorization#policy-filters"><code>before</code> method</a> on a policy, or to apply this to all policies use the <a href="https://laravel.com/docs/5.6/authorization#gates">Gate class</a> in the <code>boot</code> method of <code>AuthServiceProvider</code>. E.g.:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token class-name static-context">Gate</span><span class="token operator">::</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$user</span><span class="token operator">-></span><span class="token property">name</span> <span class="token operator">===</span> <span class="token string single-quoted-string">'super admin'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>[<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/24">Source</a>]</p>
<h4><a name="34"></a> 34.</h4>
<p>Not Laravel specific, but to get the short name of a class (i.e. without the namespace), this can be done with the ReflectionClass method <a href="http://php.net/manual/en/reflectionclass.getshortname.php"><code>getShortName</code></a>. E.g.:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>ReflectionClass</span><span class="token punctuation">(</span><span class="token variable">$thread</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">getShortName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>[<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/25">Source</a>]</p>
<h4><a name="35"></a> 35.</h4>
<p>You can move <code>boot</code> methods from specific models to traits they use with the function <code>boot[TraitName]</code> in the trait. E.g.:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token keyword">protected</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">bootRecordsActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token punctuation">}</span></code></pre></div>
<p>[<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/25">Source</a>]</p>
<h4><a name="36"></a> 36.</h4>
<p>You can pass a closure to the <code>groupBy</code> method. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/26">Source</a>]</p>
<h4><a name="37"></a> 37.</h4>
<p><a href="https://laravel.com/docs/5.6/responses#redirecting-with-flashed-session-data">Chain the <code>with</code> method to a redirect response</a> to flash data to the session. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/29">Source</a>]</p>
<h4><a name="38"></a> 38.</h4>
<p>Use the <a href="https://laravel.com/docs/5.6/blade#including-sub-views"><code>@includeIf</code></a> Blade directive to only include a view if it exists. Inspired by (<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/30">this video</a>).</p>
<h4><a name="39"></a> 39.</h4>
<p>Use <a href="https://vuejs.org/v2/guide/components.html#Inline-Templates">inline templates</a> to use a Blade file (or other HTML) as a Vue component's template. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/32">Source</a>]</p>
<h4><a name="40"></a> 40.</h4>
<p>Use the <a href="https://vuejs.org/v2/api/#v-cloak"><code>v-cloak</code></a> directive, in combination with a CSS rule like <code>[v-cloak] { display: none; }</code>, to hide a Vue component until it's loaded. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/32">Source</a>]</p>
<h4><a name="41"></a> 41.</h4>
<p>Use the <a href="https://laravel.com/docs/5.6/eloquent-serialization#appending-values-to-json"><code>appends</code></a> property to add Eloquent attributes to a model's array or JSON representation. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/34">Source</a>]</p>
<h4><a name="42"></a> 42.</h4>
<p>Use the Eloquent <a href="https://github.com/laravel/framework/blob/5.6/src/Illuminate/Database/Eloquent/Model.php#L1010-L1020"><code>fresh</code></a> method to reload a model from the database. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/34">Source</a>]</p>
<h4><a name="43"></a> 43.</h4>
<p>For a model event (e.g. <code>deleting</code>) to fire, the model has to be deleted (or updated etc.), rather than building an SQL command with the query builder. I.e. this:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$this</span><span class="token operator">-></span><span class="token function">favorites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token variable">$attributes</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$favorite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$favourite</span><span class="token operator">-></span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>instead of</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$this</span><span class="token operator">-></span><span class="token function">favorites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token variable">$attributes</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>[<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/35">Source</a>]</p>
<h4><a name="44"></a> 44.</h4>
<p><a href="https://laravel.com/docs/5.6/collections#higher-order-messages">Higher order messages</a> are  "properties" to make performing tasks on collections more readable. E.g., using the <code>each</code> higher order message:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$this</span><span class="token operator">-></span><span class="token function">favorites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">where</span><span class="token punctuation">(</span><span class="token variable">$attributes</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token property">each</span><span class="token operator">-></span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>[<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/35">Source</a>]</p>
<h4><a name="45"></a> 45.</h4>
<p>The Vue <a href="https://vuejs.org/v2/guide/list.html#Mapping-an-Array-to-Elements-with-v-for"><code>v-for</code></a> directive can take a second argument that supplies the index of an item. E,g.:</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(reply, index) in items<span class="token punctuation">"</span></span>
  <span class="token attr-name">&lt;reply</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reply<span class="token punctuation">"</span></span> <span class="token attr-name">@deleted</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>remove(index)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>reply</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>
<p>[<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/36">Source</a>]</p>
<h4><a name="46"></a> 46.</h4>
<p>Use <a href="https://vuejs.org/v2/guide/mixins.html">Vue mixins</a> for creating reusable functionality. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/38">Source</a>]</p>
<h4><a name="47"></a> 47.</h4>
<p>A <a href="https://vuejs.org/v2/guide/computed.html#Watchers">Vue watcher</a> can be used to perform some new function when a component's data changes. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/38">Source</a>]</p>
<h4><a name="48"></a> 48.</h4>
<p>In Vue, the <a href="https://vuejs.org/v2/guide/events.html#Event-Modifiers"><code>.prevent</code></a> event modifier will perform the equivalent of <code>preventDefault()</code>. E.g. <code>@click.prevent</code>. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/38">Source</a>]</p>
<h4><a name="49"></a> 49.</h4>
<p><a href="https://laravel.com/docs/5.6/queries#increment-and-decrement"><code>increment</code> and <code>decrement</code></a> are database query builder helpers to increment or decrement the value of a column. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/39">Source</a>]</p>
<h4><a name="50"></a> 50.</h4>
<p>To append an attribute to a single instance of an Eloquent model (rather than to every instance as in <a href="#41">41</a> above), use the <a href="https://laravel.com/docs/5.6/eloquent-serialization#appending-values-to-json"><code>append</code> method</a>. [<a href="https://laracasts.com/series/lets-build-a-forum-with-laravel/episodes/42">Source</a>]</p>
<p><a href="http://unlikenesses.com/2018-04-27-laracasts-lessons-part-2/">Click here for Part 2, covering the second half of the series.</a></p></div></div></article><div class="w-full flex pt-6"></div></section></div><footer class="container text-sm md:text-base w-full md:w-2/3 mx-auto flex flex-wrap py-4 px-5 justify-between text-gray-600"><p>Unlikenesses</p><p>Built with <a href="https://www.gatsbyjs.com" target="_blank" rel="noreferrer">GatsbyJS</a> and <a href="https://tailwindcss.com" target="_blank" rel="noreferrer">Tailwind CSS</a></p></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2018-03-24-laracasts-lessons/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-f7e82a47bb769d22fce9.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-1d206de19cc4784dd69a.js\"],\"component---src-pages-markdown-remark-fields-slug-js\":[\"/component---src-pages-markdown-remark-fields-slug-js-149870fb7b8fd842073f.js\"],\"component---src-templates-index-js\":[\"/component---src-templates-index-js-6944007bd06ebd5a56d1.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="72a7483759434681cadc";</script><script src="/webpack-runtime-8bdf4d8f7e21cbba3af3.js" async></script><script src="/framework-78b545ebf38d6706a087.js" async></script><script src="/app-f7e82a47bb769d22fce9.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>